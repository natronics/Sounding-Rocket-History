{% extends "base.html" %}
{% block content %}
<h2>{% if name is not none %}Edit Vehicle: {{ name }}{% else %}Create New Vehicle{% endif %}</h2>
<div class="row">
 <div class="col-lg-10">
  {% if updated %}
    <div id="updatesucess" class="alert alert-success"><strong>Success!</strong> record updated.</div>
    <script>setTimeout(function(){$("#updatesucess").fadeOut("slow");}, 2000);</script>
  {% endif %}
  <form role="form" method="post" class="form-horizontal">
    {% for meta in fields %}
        <div class="form-group">
            <label for="vehicle{{ meta.key }}" class="col-lg-2 control-label">{{ meta.title }}:</label>
            {% if meta.type == 'short' %}
              <div class="col-lg-10">
                <input name="vehicle.{{ meta.key }}" type="text" class="form-control" id="vehicle{{ meta.key }}" value="{{ meta.val }}">
              </div>
            {% elif meta.type == 'number' %}
              <div class="col-lg-2">
                <input name="vehicle.{{ meta.key }}" type="number" min="0" max="110" step="0.01" class="form-control" id="vehicle{{ meta.key }}" value="{{ meta.val }}">
              </div>
            {% elif meta.type == 'text' %}
              <div class="col-lg-10">
                <textarea name="vehicle.{{ meta.key }}" class="form-control" id="vehicle{{ meta.key }}" rows="10">{{ meta.val }}</textarea>
              </div>
            {% endif %}
        </div>
    {% endfor %}
   <button type="submit" class="btn btn-default">{% if name is not none %}Update{% else %}Create{% endif %}</button>
  </form>
 </div>
</div>
{% endblock %} 
